<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reset Password</title>
  <link rel="stylesheet" href="css/style.css" />
  <script defer src="js/reset_password.js"></script>
</head>
<body>
    <main class="rp-form-card-container">
        <!-- The Form Card -->
        <form id="resetPasswordForm" class="rp-form-card">
            <h2>Set New Password</h2>
            <p>Your new password must be different from previous ones.</p>
            
            <!-- New Password Input -->
            <div class="rp-input-group">
                <label for="newPassword">New Password</label>
                <div class="rp-input-wrapper">
                   <span class="icon" aria-hidden="true">ðŸ”‘</span>
                   <input type="password" id="newPassword" placeholder="Enter new password" required />
                   <button type="button" class="eye-toggle" aria-label="Show password">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-icon"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-off-icon" style="display: none;"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path><line x1="2" x2="22" y1="2" y2="22"></line></svg>
                   </button>
                </div>
            </div>

            <!-- Password Strength Meter -->
            <div class="rp-password-strength">
                <div class="rp-strength-bar"></div>
                <span class="rp-strength-text"></span>
            </div>

            <!-- Password Validation Checklist -->
            <ul id="rp-password-criteria" class="rp-password-criteria">
                <li id="length">At least 8 characters</li>
                <li id="uppercase">At least one uppercase letter</li>
                <li id="number">At least one number</li>
                <li id="special">At least one special character</li>
            </ul>

            <!-- Confirm Password Input -->
            <div class="rp-input-group">
                <label for="confirmPassword">Confirm Password</label>
                <div class="rp-input-wrapper">
                   <span class="rp-icon" aria-hidden="true">ðŸ”‘</span>
                   <input type="password" id="confirmPassword" placeholder="Confirm new password" required />
                   <button type="button" class="rp-eye-toggle" aria-label="Show password">
                        <!-- SVG icons are duplicated for simplicity, can be refactored -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-icon"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-off-icon" style="display: none;"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path><line x1="2" x2="22" y1="2" y2="22"></line></svg>
                   </button>
                </div>
            </div>
            
            <button type="submit" id="submitButton">Reset Password</button>
        </form>

        <!-- Success Message (Initially Hidden) -->
        <div id="successMessage" class="rp-form-card" style="display: none; text-align: center;">
            <h2>Password Reset!</h2>
            <p>Your password has been successfully reset. You can now log in with your new password.</p>
            <a href="/login.html" class="success-login-button">Go to Login</a>
        </div>
    </main>
</html>
